function writeUs(){var e=document.querySelector(".about-us__btn"),t=document.querySelector(".modal.write-us"),l=t.querySelector(".btn-modal-close"),o=t.querySelector("form"),s=t.querySelector("[name=name]"),i=t.querySelector("[name=email]"),r=t.querySelector("[name=text]"),a=!0,n="",u="";try{n=localStorage.getItem("nameField"),u=localStorage.getItem("emailField")}catch(e){a=!1}e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("modal__show_flex"),n?s.value=n:s.focus(),u&&(i.value=u),n&&!u&&i.focus(),n&&u&&r.focus()}),l.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("modal__show_flex"),t.classList.remove("modal-error")}),o.addEventListener("submit",function(e){s.value&&i.value&&r.value?a&&(localStorage.setItem("nameField",s.value),localStorage.setItem("emailField",i.value)):(e.preventDefault(),t.classList.remove("modal-error"),t.offsetWidth,t.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),t.classList.contains("modal__show_flex")&&(t.classList.remove("modal__show_flex"),t.classList.remove("modal-error")))})}function map(){var e=document.querySelector(".contacts__link_map"),t=document.querySelector(".modal-map"),l=t.querySelector(".btn-modal-close");e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("modal__show_block")}),l.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("modal__show_block")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),t.classList.contains("modal__show_block")&&t.classList.remove("modal__show_block"))})}function goodsCardBasket(){for(var e=document.querySelectorAll(".goods-card__link_buy"),t=document.querySelector(".modal-add-basket"),l=t.querySelector(".btn-modal-close"),o=t.querySelector(".modal-add-basket__continue"),s=0;s<e.length;s++){e[s].addEventListener("click",function(e){e.preventDefault(),t.classList.add("modal__show_flex")})}l.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("modal__show_flex")}),o.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("modal__show_flex")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),t.classList.contains("modal__show_flex")&&t.classList.remove("modal__show_flex"))})}function service(){function e(l,o){l.addEventListener("click",function(){var e=document.querySelector(".service__item_active"),t=document.querySelector(".service__item2_active");e.classList.remove("service__item_active"),l.classList.add("service__item_active"),t.classList.remove("service__item2_active"),o.classList.add("service__item2_active")})}for(var t=document.querySelectorAll(".service__item"),l=document.querySelectorAll(".service__item2"),o=0;o<t.length;o++)e(t[o],l[o])}function slider(){function e(l,o){l.addEventListener("click",function(){var e=document.querySelector(".promo-slider__dot-btn_active"),t=document.querySelector(".promo-slider__item.visible");e.classList.remove("promo-slider__dot-btn_active"),l.classList.add("promo-slider__dot-btn_active"),t.classList.remove("visible"),o.classList.add("visible")})}var t=document.querySelector(".promo-slider"),l=t.querySelector(".promo-slider__prev"),o=t.querySelector(".promo-slider__next"),s=t.querySelectorAll(".promo-slider__dot-btn"),i=t.querySelectorAll(".promo-slider__item");o.addEventListener("click",function(){for(var e=0;e<i.length;e++){if(i[e].classList.contains("visible")&&e===i.length-1)return i[e].classList.remove("visible"),s[e].classList.remove("promo-slider__dot-btn_active"),i[0].classList.add("visible"),void s[0].classList.add("promo-slider__dot-btn_active");if(i[e].classList.contains("visible")&&0<=e&&e<i.length-1)return i[e].classList.remove("visible"),s[e].classList.remove("promo-slider__dot-btn_active"),i[e+1].classList.add("visible"),void s[e+1].classList.add("promo-slider__dot-btn_active")}}),l.addEventListener("click",function(){for(var e=0;e<i.length;e++){var t=i.length-1;if(i[e].classList.contains("visible")&&0===e)return i[e].classList.remove("visible"),s[e].classList.remove("promo-slider__dot-btn_active"),i[t].classList.add("visible"),void s[t].classList.add("promo-slider__dot-btn_active");if(i[e].classList.contains("visible")&&0<e&&e<=i.length-1)return i[e].classList.remove("visible"),s[e].classList.remove("promo-slider__dot-btn_active"),i[e-1].classList.add("visible"),void s[e-1].classList.add("promo-slider__dot-btn_active")}});for(var r=0;r<s.length;r++)e(s[r],i[r])}function filterRangeSlider(){var e=document.querySelector(".filter-range"),t=e.querySelector(".range-slider"),a=t.querySelector(".range-slider__td_left"),n=t.querySelector(".range-slider__td_right"),l=t.querySelector(".range-slider__thumb_left"),o=t.querySelector(".range-slider__thumb_right"),u=o.offsetWidth,r=e.querySelector(".filter-range__value_min"),c=e.querySelector(".filter-range__value_max"),d=t.offsetWidth,m=(c.dataset.max_value-r.dataset.min_value)/(d-2*u);function v(e){var t=e.getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset}}l.onmousedown=function(e){var t=v(this),o=e.pageX-t.left,s=v(a),i=n.offsetWidth;return!(document.onmousemove=function(e){var t=e.pageX-s.left,l=t-o+u;t<=o&&(l=u),d-i<l&&(l=d-i),a.style.width=l+"px",document.onmouseup=function(){document.onmousemove=document.onmouseup=null},r.value=(a.offsetWidth-u)*m})},o.onmousedown=function(e){var t=v(this),o=u-(e.pageX-t.left),s=v(n).left,i=a.offsetWidth,r=n.offsetWidth;return!(document.onmousemove=function(e){var t=s+r-e.pageX,l=t-o+u;t<=o&&(l=u),d-i<l&&(l=d-i),n.style.width=l+"px",document.onmouseup=function(){document.onmousemove=document.onmouseup=null},c.value=(d-n.offsetWidth-u)*m})},r.addEventListener("keydown",function(e){var t=d-n.offsetWidth;13===e.keyCode&&this.focus&&(e.preventDefault(),this.value<0&&(this.value=0,a.style.width=u+"px"),this.value>(t-u)*m&&(this.value=(t-u)*m,a.style.width=t+"px"),0<=this.value<=(t-u)*m&&(a.style.width=Number(this.value)/m+Number(u)+"px"),this.select())}),r.addEventListener("blur",function(){var e=d-n.offsetWidth;this.value<0&&(this.value=0,a.style.width=u+"px"),this.value>(e-u)*m&&(this.value=(e-u)*m,a.style.width=e+"px"),0<=this.value<=(e-u)*m&&(a.style.width=Number(this.value)/m+Number(u)+"px")}),c.addEventListener("keydown",function(e){13===e.keyCode&&this.focus&&(e.preventDefault(),+this.value<+r.value&&(this.value=r.value,n.style.width=Number(u)-Number(a.offsetWidth)+"px"),this.value>(d-2*u)*m&&(this.value=(d-2*u)*m,n.style.width=Number(u)-Number(u)+"px"),r.value<=this.value<=(d-2*u)*m&&(n.style.width=Number(d)-Number(c.value)/m-Number(u)+"px"),this.select())}),c.addEventListener("blur",function(){+this.value<+r.value&&(this.value=r.value,n.style.width=Number(u)-Number(a.offsetWidth)+"px"),this.value>(d-2*u)*m&&(this.value=(d-2*u)*m,n.style.width=Number(u)-Number(u)+"px"),r.value<=this.value<=(d-2*u)*m&&(n.style.width=Number(d)-Number(c.value)/m-Number(u)+"px")}),l.ondragstart=function(){return!1},a.style.width=Number(r.value)/m+Number(u)+"px",n.style.width=Number(d)-Number(c.value)/m-Number(u)+"px"}null!==document.querySelector(".about-us__btn")&&null!==document.querySelector(".modal.write-us")&&writeUs(),null!==document.querySelector(".contacts__link_map")&&null!==document.querySelector(".modal-map")&&map(),null!==document.querySelector(".goods-card__link_buy")&&null!==document.querySelector(".modal-add-basket")&&goodsCardBasket(),null!==document.querySelector(".service__item")&&null!==document.querySelector(".service__item2")&&service(),null!==document.querySelector(".promo-slider")&&slider(),null!==document.querySelector(".filter-range")&&filterRangeSlider();
