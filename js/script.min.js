var currentLocation=window.location;function writeUs(){var e=document.querySelector(".about-us__btn"),t=document.querySelector(".modal.write-us"),o=t.querySelector(".btn-modal-close"),s=t.querySelector("form"),l=t.querySelector("[name=name]"),i=t.querySelector("[name=email]"),r=t.querySelector("[name=text]"),a=!0,n="",d="";try{n=localStorage.getItem("nameField"),d=localStorage.getItem("emailField")}catch(e){a=!1}e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("modal__show_flex"),n?l.value=n:l.focus(),d&&(i.value=d),n&&!d&&i.focus(),n&&d&&r.focus()}),o.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("modal__show_flex"),t.classList.remove("modal-error")}),s.addEventListener("submit",function(e){l.value&&i.value&&r.value?a&&(localStorage.setItem("nameField",l.value),localStorage.setItem("emailField",i.value)):(e.preventDefault(),t.classList.remove("modal-error"),t.offsetWidth,t.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),t.classList.contains("modal__show_flex")&&(t.classList.remove("modal__show_flex"),t.classList.remove("modal-error")))})}function map(){var e=document.querySelector(".contacts__img"),t=document.querySelector(".modal-map"),o=t.querySelector(".btn-modal-close");e.addEventListener("click",function(e){e.preventDefault(),t.classList.add("modal__show_block")}),o.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("modal__show_block")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),t.classList.contains("modal__show_block")&&t.classList.remove("modal__show_block"))})}function goodsCardBasket(){for(var e=document.querySelectorAll(".goods-card__link_buy"),t=document.querySelector(".modal-add-basket"),o=t.querySelector(".btn-modal-close"),s=t.querySelector(".modal-add-basket__continue"),l=0;l<e.length;l++){e[l].addEventListener("click",function(e){e.preventDefault(),t.classList.add("modal__show_flex")})}o.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("modal__show_flex")}),s.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("modal__show_flex")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),t.classList.contains("modal__show_flex")&&t.classList.remove("modal__show_flex"))})}function service(){for(var e=document.querySelectorAll(".service__item"),t=0;t<e.length;t++){e[t].addEventListener("click",function(e){var t=document.querySelector(".service__item_active");e.preventDefault(),t.classList.remove("service__item_active"),this.classList.add("service__item_active")})}}function slider(){var e=document.querySelector(".promo-slider__prev"),t=document.querySelector(".promo-slider__next"),o=document.querySelectorAll(".promo-slider__dot-btn"),s=document.querySelectorAll(".promo-slider__item"),l=function(o,s){o.addEventListener("click",function(){var e=document.querySelector(".promo-slider__dot-btn_active"),t=document.querySelector(".promo-slider__item.visible");e.classList.remove("promo-slider__dot-btn_active"),o.classList.add("promo-slider__dot-btn_active"),t.classList.remove("visible"),s.classList.add("visible")})};t.addEventListener("click",function(){for(var e=0;e<s.length;e++){if(s[e].classList.contains("visible")&&e===s.length-1)return s[e].classList.remove("visible"),o[e].classList.remove("promo-slider__dot-btn_active"),s[0].classList.add("visible"),void o[0].classList.add("promo-slider__dot-btn_active");if(s[e].classList.contains("visible")&&0<=e&&e<s.length-1)return s[e].classList.remove("visible"),o[e].classList.remove("promo-slider__dot-btn_active"),s[e+1].classList.add("visible"),void o[e+1].classList.add("promo-slider__dot-btn_active")}}),e.addEventListener("click",function(){for(var e=0;e<s.length;e++){var t=s.length-1;if(s[e].classList.contains("visible")&&0===e)return s[e].classList.remove("visible"),o[e].classList.remove("promo-slider__dot-btn_active"),s[t].classList.add("visible"),void o[t].classList.add("promo-slider__dot-btn_active");if(s[e].classList.contains("visible")&&0<e&&e<=s.length-1)return s[e].classList.remove("visible"),o[e].classList.remove("promo-slider__dot-btn_active"),s[e-1].classList.add("visible"),void o[e-1].classList.add("promo-slider__dot-btn_active")}});for(var i=0;i<o.length;i++)l(o[i],s[i])}function filterRangeSlider(){var e=document.querySelector(".filter-range"),t=document.querySelector(".range-slider"),a=t.querySelector(".range-slider__td_left"),n=t.querySelector(".range-slider__td_right"),o=t.querySelector(".range-slider__thumb_left"),s=t.querySelector(".range-slider__thumb_right"),d=s.offsetWidth,r=e.querySelector(".filter-range__value_min"),c=e.querySelector(".filter-range__value_max"),u=t.offsetWidth,m=(c.dataset.max_value-r.dataset.min_value)/(u-2*d);function v(e){var t=e.getBoundingClientRect();return{top:t.top+pageYOffset,left:t.left+pageXOffset}}o.onmousedown=function(e){var t=v(this),s=e.pageX-t.left,l=v(a),i=n.offsetWidth;return!(document.onmousemove=function(e){var t=e.pageX-l.left,o=t-s+d;t<=s&&(o=d),u-i<o&&(o=u-i),a.style.width=o+"px",document.onmouseup=function(){document.onmousemove=document.onmouseup=null},r.value=(a.offsetWidth-d)*m})},s.onmousedown=function(e){var t=v(this),s=d-(e.pageX-t.left),l=v(n).left,i=a.offsetWidth,r=n.offsetWidth;return!(document.onmousemove=function(e){var t=l+r-e.pageX,o=t-s+d;t<=s&&(o=d),u-i<o&&(o=u-i),n.style.width=o+"px",document.onmouseup=function(){document.onmousemove=document.onmouseup=null},c.value=(u-n.offsetWidth-d)*m})},r.addEventListener("keydown",function(e){var t=u-n.offsetWidth;13===e.keyCode&&this.focus&&(e.preventDefault(),this.value<0&&(this.value=0,a.style.width=d+"px"),this.value>(t-d)*m&&(this.value=(t-d)*m,a.style.width=t+"px"),0<=this.value<=(t-d)*m&&(a.style.width=Number(this.value)/m+Number(d)+"px"),this.select())}),c.addEventListener("keydown",function(e){13===e.keyCode&&this.focus&&(e.preventDefault(),+this.value<+r.value&&(this.value=r.value,n.style.width=Number(d)-Number(a.offsetWidth)+"px"),this.value>(u-2*d)*m&&(this.value=(u-2*d)*m,n.style.width=Number(d)-Number(d)+"px"),r.value<=this.value<=(u-2*d)*m&&(n.style.width=Number(u)-Number(c.value)/m-Number(d)+"px"),this.select())}),o.ondragstart=function(){return!1},a.style.width=Number(r.value)/m+Number(d)+"px",n.style.width=Number(u)-Number(c.value)/m-Number(d)+"px"}0<=currentLocation.pathname.lastIndexOf("/356451-technomart-24/index.html")&&(writeUs(),map(),goodsCardBasket(),service(),slider()),0<=currentLocation.pathname.lastIndexOf("/356451-technomart-24/catalog.html")&&(goodsCardBasket(),filterRangeSlider());
